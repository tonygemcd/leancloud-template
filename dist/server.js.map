{"version":3,"sources":["webpack:///webpack/bootstrap 0873b6f0cff7fc846f9c","webpack:///./server/index.js","webpack:///external \"babel-register\"","webpack:///external \"leanengine\"","webpack:///./server/lib/app.js","webpack:///external \"express\"","webpack:///external \"body-parser\"","webpack:///external \"cookie-parser\"","webpack:///external \"connect-history-api-fallback\"","webpack:///./config/index.js","webpack:///external \"babel-runtime/core-js/json/stringify\"","webpack:///./server/apis/user.js","webpack:///external \"joi\"","webpack:///./server/lib/logger.js","webpack:///external \"bunyan\"","webpack:///./package.json","webpack:///external \"app-root-path\"","webpack:///external \"webpack\"","webpack:///./build/webpack.dev.conf.js","webpack:///external \"babel-runtime/core-js/object/keys\"","webpack:///external \"webpack-merge\"","webpack:///external \"html-webpack-plugin\"","webpack:///./build/webpack.base.conf.js","webpack:///external \"path\"","webpack:///external \"autoprefixer\"","webpack:///./build/utils.js","webpack:///external \"extract-text-webpack-plugin\"","webpack:///external \"eslint-friendly-formatter\"","webpack:///external \"webpack-dev-middleware\"","webpack:///external \"webpack-hot-middleware\""],"names":["require","sourceMaps","AV","app","config","init","appId","LEANCLOUD_APP_ID","appKey","LEANCLOUD_APP_KEY","masterKey","LEANCLOUD_APP_MASTER_KEY","Cloud","useMasterKey","listen","port","console","log","env","process","version","APP_ROOT_PATH","set","use","express","webpack","webpackConfig","compiler","devMiddleware","publicPath","output","stats","colors","chunks","hotMiddleware","plugin","compilation","data","cb","publish","action","get","req","res","sendFile","urlencoded","extended","json","static","next","err","Error","status","module","exports","LEANCLOUD_APP_PORT","globals","router","Router","post","username","body","password","jSchema","object","keys","string","min","max","required","validate","error","code","message","newUser","User","signUp","then","user","saveCurrentUser","detail","catch","logIn","currentUser","logOut","clearCurrentUser","createLogger","name","serializers","stdSerializers","merge","HtmlWebpackPlugin","baseWebpackConfig","hotMiddlewareConfig","entry","forEach","concat","filename","pathinfo","devtool","plugins","optimize","CommonsChunkPlugin","OccurenceOrderPlugin","HotModuleReplacementPlugin","NoErrorsPlugin","template","favicon","path","autoprefixer","utils","PROJECT_ROOT","resolve","__dirname","PUBLIC_ASSETS_PATH","vendor","extensions","fallback","join","alias","resolveLoader","ProvidePlugin","$request","preLoaders","test","loader","include","exclude","loaders","query","limit","postcss","vue","cssLoaders","eslint","formatter","ExtractTextPlugin","options","generateLoaders","sourceLoader","map","extraParamChar","replace","sourceMap","extract","css","less","sass","scss","stylus","styl"],"mappings":"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","file":"server.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 0873b6f0cff7fc846f9c\n **/","/**\n * babel-register for development\n * this should be removed in production\n */\nrequire('babel-register')({\n  sourceMaps: true\n})\n\nconst AV = require('leanengine')\nconst app = require('./lib/app')\nconst config = require('../config')\n\n// initialize LeanCloud\nAV.init({\n  appId: config.LEANCLOUD_APP_ID,\n  appKey: config.LEANCLOUD_APP_KEY,\n  masterKey: config.LEANCLOUD_APP_MASTER_KEY\n})\nAV.Cloud.useMasterKey()\n\napp.listen(config.port, () => {\n  console.log('\\n----------------------------')\n  console.log('Node app is running!')\n  console.log('ENV: \\t%s', config.env)\n  console.log('PORT: \\t%s', config.port)\n  console.log('NODE VERSION: \\t%s', process.version)\n  console.log('----------------------------\\n')\n})\n\n\n\n/** WEBPACK FOOTER **\n ** ./server/index.js\n **/","module.exports = require(\"babel-register\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"babel-register\"\n ** module id = 1\n ** module chunks = 0\n **/","module.exports = require(\"leanengine\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"leanengine\"\n ** module id = 2\n ** module chunks = 0\n **/","import AV from 'leanengine'\nimport express from 'express'\nimport bodyParser from 'body-parser'\nimport cookieParser from 'cookie-parser'\nimport history from 'connect-history-api-fallback'\nimport config from '../../config'\n\nimport userApi from '../apis/user'\n\nconst APP_ROOT_PATH = require('app-root-path')\n\nconst app = express()\n\n/**\n * Config view engine\n */\napp.set('views', APP_ROOT_PATH + '/server/views/')\napp.set('view engine', 'mustache')\n\n/**\n * LeanCloud middleware\n */\napp.use(AV.express())\n\n/**\n * Hot reload middleware\n */\nif (config.env === 'development') {\n  const webpack = require('webpack')\n  const webpackConfig = require('../../build/webpack.dev.conf')\n\n  const compiler = webpack(webpackConfig)\n  const devMiddleware = require('webpack-dev-middleware')(compiler, {\n    publicPath: webpackConfig.output.publicPath,\n    stats: {\n      colors: true,\n      chunks: false\n    }\n  })\n  const hotMiddleware = require('webpack-hot-middleware')(compiler)\n  // Reload when html-webpack-plugin template changed\n  compiler.plugin('compilation', function (compilation) {\n    compilation.plugin('html-webpack-plugin-after-emit', (data, cb) => {\n      hotMiddleware.publish({ action: 'reload' })\n      cb()\n    })\n  })\n\n  // Register webpack-dev and webpack-hot middleware\n  app.use(devMiddleware)\n  app.use(hotMiddleware)\n} else {\n  app.get('/', (req, res) => {\n    res.sendFile(APP_ROOT_PATH + '/server/views/index.html')\n  })\n}\n\n/**\n * Register Node.js middleware\n */\napp.use(history())\napp.use(cookieParser())\napp.use(bodyParser.urlencoded({ extended: true }))\napp.use(bodyParser.json())\n\n/**\n * Static path\n */\napp.use('/static', express.static(APP_ROOT_PATH + '/dist/static/'))\n\n/**\n * APIs\n */\napp.use('/api/user', userApi)\n\n/**\n * Error Handler\n */\napp.use(function (req, res, next) {\n  var err = new Error('Not Found')\n  err.status = 404\n  next(err)\n})\n\nmodule.exports = app\n\n\n\n/** WEBPACK FOOTER **\n ** ./server/lib/app.js\n **/","module.exports = require(\"express\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"express\"\n ** module id = 4\n ** module chunks = 0\n **/","module.exports = require(\"body-parser\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"body-parser\"\n ** module id = 5\n ** module chunks = 0\n **/","module.exports = require(\"cookie-parser\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"cookie-parser\"\n ** module id = 6\n ** module chunks = 0\n **/","module.exports = require(\"connect-history-api-fallback\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"connect-history-api-fallback\"\n ** module id = 7\n ** module chunks = 0\n **/","const config = {\n  env: process.env.NODE_ENV || 'development',\n  port: process.env.NODE_ENV === 'production' ? process.env.LEANCLOUD_APP_PORT : 4000,\n\n  /**\n   * LeanCloud Config\n   */\n  LEANCLOUD_APP_ID: '',\n  LEANCLOUD_APP_KEY: '',\n  LEANCLOUD_APP_MASTER_KEY: ''\n}\n\n/**\n * Environment\n * N.B.: globals added here must _also_ be added to .eslintrc\n * @type {Object}\n */\nconfig.globals = {\n  'process.env': {\n    'NODE_ENV': JSON.stringify(config.env)\n  },\n  'NODE_ENV': config.env,\n  '__DEV__': config.env === 'development',\n  '__PROD__': config.env === 'production',\n  '__TEST__': config.env === 'test',\n  '__DEBUG__': config.env === 'development'\n}\n\nmodule.exports = config\n\n\n\n/** WEBPACK FOOTER **\n ** ./config/index.js\n **/","module.exports = require(\"babel-runtime/core-js/json/stringify\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"babel-runtime/core-js/json/stringify\"\n ** module id = 9\n ** module chunks = 0\n **/","import express from 'express'\nimport AV from 'leanengine'\nimport Joi from 'joi'\nimport { log } from '../lib/logger'\n\nconst router = express.Router()\n\nrouter.post('/register', (req, res, next) => {\n  const username = req.body.username\n  const password = req.body.password\n\n  let jSchema = Joi.object().keys({\n    username: Joi.string().min(10).max(30).required(),\n    password: Joi.string().min(1).required()\n  })\n\n  let validate = Joi.validate({\n    username: username,\n    password: password\n  }, jSchema)\n\n  if (validate.error) {\n    log.error({\n      username: username,\n      password: password\n    }, '注册的账号密码有误')\n\n    return res.json({\n      error: {\n        code: 1001,\n        message: '账号密码有误'\n      }\n    })\n  }\n\n  let newUser = new AV.User()\n  newUser.set('username', username)\n  newUser.set('password', password)\n  newUser.signUp()\n    .then((user) => {\n      res.saveCurrentUser(user)\n      res.json({\n        user: user\n      })\n    }, (err) => {\n      res.json({\n        error: {\n          code: 1002,\n          message: '服务器繁忙',\n          detail: err\n        }\n      })\n    })\n    .catch(next)\n})\n\nrouter.post('/login', (req, res, next) => {\n  const username = req.body.username\n  const password = req.body.password\n\n  AV.User.logIn(username, password)\n    .then((user) => {\n      res.saveCurrentUser(user)\n      res.json({\n        user: user\n      })\n    }, (err) => {\n      res.json({\n        error: {\n          code: 1002,\n          message: '服务器繁忙',\n          detail: err\n        }\n      })\n    })\n    .catch(next)\n})\n\nrouter.get('/logout', (req, res, next) => {\n  req.currentUser.logOut()\n  res.clearCurrentUser()\n})\n\nexport default router\n\n\n\n/** WEBPACK FOOTER **\n ** ./server/apis/user.js\n **/","module.exports = require(\"joi\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"joi\"\n ** module id = 11\n ** module chunks = 0\n **/","import bunyan from 'bunyan'\n\nexport const log = bunyan.createLogger({\n  name: require('../../package.json').name,\n  serializers: bunyan.stdSerializers\n})\n\n\n\n/** WEBPACK FOOTER **\n ** ./server/lib/logger.js\n **/","module.exports = require(\"bunyan\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"bunyan\"\n ** module id = 13\n ** module chunks = 0\n **/","module.exports = {\n\t\"name\": \"lean-template\",\n\t\"version\": \"0.1.0\",\n\t\"description\": \"\",\n\t\"main\": \"server/index.js\",\n\t\"scripts\": {\n\t\t\"clean\": \"rimraf dist\",\n\t\t\"dev\": \"nodemon --debug server/index.js | ./node_modules/.bin/bunyan\",\n\t\t\"build:client\": \"NODE_ENV=production babel-node bin/compiler-client.js\",\n\t\t\"build:server\": \"NODE_ENV=production babel-node bin/compiler-server.js\",\n\t\t\"build\": \"npm run clean && npm run build:client && npm run build:server\",\n\t\t\"deploy\": \"npm run build && lean deploy\",\n\t\t\"test\": \"echo \\\"Error: no test specified\\\" && exit 1\",\n\t\t\"start\": \"node --debug server/index.js\"\n\t},\n\t\"keywords\": [\n\t\t\"express\",\n\t\t\"vue\",\n\t\t\"webpack\",\n\t\t\"leancloud\"\n\t],\n\t\"author\": \"Tony Luo\",\n\t\"license\": \"ISC\",\n\t\"engines\": {\n\t\t\"node\": \"4.x\"\n\t},\n\t\"devDependencies\": {\n\t\t\"autoprefixer\": \"^6.4.0\",\n\t\t\"babel-cli\": \"^6.14.0\",\n\t\t\"babel-core\": \"^6.14.0\",\n\t\t\"babel-eslint\": \"^6.1.2\",\n\t\t\"babel-loader\": \"^6.2.5\",\n\t\t\"babel-plugin-transform-async-to-generator\": \"^6.8.0\",\n\t\t\"babel-plugin-transform-runtime\": \"^6.12.0\",\n\t\t\"babel-preset-es2015\": \"^6.14.0\",\n\t\t\"babel-preset-stage-2\": \"^6.13.0\",\n\t\t\"babel-register\": \"^6.14.0\",\n\t\t\"css-loader\": \"^0.24.0\",\n\t\t\"eslint\": \"^3.4.0\",\n\t\t\"eslint-config-standard\": \"^6.0.0\",\n\t\t\"eslint-friendly-formatter\": \"^2.0.6\",\n\t\t\"eslint-loader\": \"^1.5.0\",\n\t\t\"eslint-plugin-html\": \"^1.5.2\",\n\t\t\"eslint-plugin-promise\": \"^2.0.1\",\n\t\t\"eslint-plugin-standard\": \"^2.0.0\",\n\t\t\"extract-text-webpack-plugin\": \"^1.0.1\",\n\t\t\"file-loader\": \"^0.9.0\",\n\t\t\"html-webpack-plugin\": \"^2.22.0\",\n\t\t\"json-loader\": \"^0.5.4\",\n\t\t\"node-sass\": \"^3.8.0\",\n\t\t\"nodemon\": \"^1.10.2\",\n\t\t\"postcss-loader\": \"^0.11.1\",\n\t\t\"sass-loader\": \"^3.2.3\",\n\t\t\"url-loader\": \"^0.5.7\",\n\t\t\"vue-hot-reload-api\": \"^1.3.3\",\n\t\t\"vue-html-loader\": \"^1.2.3\",\n\t\t\"vue-loader\": \"^8.5.2\",\n\t\t\"vue-style-loader\": \"^1.0.0\",\n\t\t\"webpack\": \"^1.13.2\",\n\t\t\"webpack-dev-middleware\": \"^1.6.1\",\n\t\t\"webpack-hot-middleware\": \"^2.12.2\",\n\t\t\"webpack-md5-hash\": \"0.0.5\",\n\t\t\"webpack-merge\": \"^0.14.1\",\n\t\t\"webpack-node-externals\": \"^1.3.3\",\n\t\t\"yargs\": \"^5.0.0\"\n\t},\n\t\"dependencies\": {\n\t\t\"app-root-path\": \"^1.3.0\",\n\t\t\"babel-runtime\": \"^6.11.6\",\n\t\t\"body-parser\": \"^1.15.2\",\n\t\t\"bunyan\": \"^1.8.1\",\n\t\t\"connect-history-api-fallback\": \"^1.3.0\",\n\t\t\"cookie-parser\": \"^1.4.3\",\n\t\t\"express\": \"^4.14.0\",\n\t\t\"joi\": \"^9.0.4\",\n\t\t\"js-cookie\": \"^2.1.2\",\n\t\t\"leancloud-storage\": \"^1.3.3\",\n\t\t\"leanengine\": \"^1.2.2\",\n\t\t\"mustache\": \"^2.2.1\",\n\t\t\"normalize.css\": \"^4.2.0\",\n\t\t\"superagent\": \"^2.3.0\",\n\t\t\"vue\": \"^1.0.26\",\n\t\t\"vue-resource\": \"^0.9.3\",\n\t\t\"vue-router\": \"^0.7.13\"\n\t}\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./package.json\n ** module id = 14\n ** module chunks = 0\n **/","module.exports = require(\"app-root-path\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"app-root-path\"\n ** module id = 15\n ** module chunks = 0\n **/","module.exports = require(\"webpack\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"webpack\"\n ** module id = 16\n ** module chunks = 0\n **/","const webpack = require('webpack')\nconst merge = require('webpack-merge')\nconst HtmlWebpackPlugin = require('html-webpack-plugin')\nconst baseWebpackConfig = require('./webpack.base.conf')\n\n// https://www.npmjs.com/package/webpack-hot-middleware\nconst hotMiddlewareConfig = 'webpack-hot-middleware/client?noInfo=true&reload=true'\n\n// add hot-reload related code to entry chunks\nObject.keys(baseWebpackConfig.entry).forEach(function (name) {\n  baseWebpackConfig.entry[name] = [hotMiddlewareConfig].concat(baseWebpackConfig.entry[name])\n})\n\nmodule.exports = merge(baseWebpackConfig, {\n  output: {\n    filename: '[name].js',\n    pathinfo: true\n  },\n  devtool: '#eval-source-map',\n  plugins: [\n    new webpack.optimize.CommonsChunkPlugin({\n      name: 'vendor',\n      filename: 'vendor.bundle.js',\n      chunks: ['app', 'vendor']\n    }),\n    // https://github.com/glenjamin/webpack-hot-middleware#installation--usage\n    new webpack.optimize.OccurenceOrderPlugin(),\n    new webpack.HotModuleReplacementPlugin(),\n    new webpack.NoErrorsPlugin(),\n    // https://github.com/ampedandwired/html-webpack-plugin\n    new HtmlWebpackPlugin({\n      template: 'client/index.html',\n      filename: 'index.html',\n      favicon: 'client/favicon.ico'\n    })\n  ]\n})\n\n\n\n/** WEBPACK FOOTER **\n ** ./build/webpack.dev.conf.js\n **/","module.exports = require(\"babel-runtime/core-js/object/keys\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"babel-runtime/core-js/object/keys\"\n ** module id = 18\n ** module chunks = 0\n **/","module.exports = require(\"webpack-merge\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"webpack-merge\"\n ** module id = 19\n ** module chunks = 0\n **/","module.exports = require(\"html-webpack-plugin\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"html-webpack-plugin\"\n ** module id = 20\n ** module chunks = 0\n **/","const webpack = require('webpack')\nconst path = require('path')\nconst autoprefixer = require('autoprefixer')\nconst utils = require('./utils')\n\nconst PROJECT_ROOT = path.resolve(__dirname, '../')\nconst PUBLIC_ASSETS_PATH = path.resolve(PROJECT_ROOT, 'client/assets')\n\nmodule.exports = {\n  entry: {\n    app: path.resolve(__dirname, '../client/main.js'),\n    vendor: [\n      'vue',\n      'vue-router',\n      'superagent/lib/client'\n    ]\n  },\n  output: {\n    path: path.resolve(__dirname, '../dist/static'),\n    publicPath: '/',\n    filename: '[name].js'\n  },\n  resolve: {\n    extensions: ['', '.js', '.vue'],\n    fallback: [path.join(__dirname, '../node_modules')],\n    alias: {\n      'client': path.resolve(PROJECT_ROOT, 'client'),\n      'assets': PUBLIC_ASSETS_PATH\n    }\n  },\n  resolveLoader: {\n    fallback: [path.join(__dirname, '../node_modules')]\n  },\n  plugins: [\n    new webpack.ProvidePlugin({\n      $request: 'superagent/lib/client'\n    })\n  ],\n  module: {\n    preLoaders: [\n      {\n        test: /\\.vue$/,\n        loader: 'eslint',\n        include: PROJECT_ROOT,\n        exclude: /node_modules/\n      },\n      {\n        test: /\\.js$/,\n        loader: 'eslint',\n        include: PROJECT_ROOT,\n        exclude: /node_modules/\n      }\n    ],\n    loaders: [\n      {\n        test: /\\.vue$/,\n        loader: 'vue'\n      },\n      {\n        test: /\\.js$/,\n        loader: 'babel',\n        include: PROJECT_ROOT,\n        exclude: /node_modules/\n      },\n      {\n        test: /\\.json$/,\n        loader: 'json'\n      },\n      {\n        test: /\\.html$/,\n        loader: 'vue-html'\n      },\n      {\n        test: /\\.(png|jpg|gif|svg|woff2?|eot|ttf)(\\?.*)?$/,\n        loader: 'url',\n        query: {\n          limit: 10000,\n          name: '[name].[ext]?[hash:7]'\n        }\n      }\n    ]\n  },\n  postcss: function () {\n    return [autoprefixer]\n  },\n  vue: {\n    loaders: utils.cssLoaders()\n  },\n  eslint: {\n    formatter: require('eslint-friendly-formatter')\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./build/webpack.base.conf.js\n **/","module.exports = require(\"path\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"path\"\n ** module id = 22\n ** module chunks = 0\n **/","module.exports = require(\"autoprefixer\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"autoprefixer\"\n ** module id = 23\n ** module chunks = 0\n **/","const ExtractTextPlugin = require('extract-text-webpack-plugin')\n\n/**\n * cssLoaders for vue-loader\n * @param  {Object} options [description]\n * @return {String || Object}\n */\nexports.cssLoaders = function (options) {\n  options = options || {}\n  // generate loader string to be used with extract text plugin\n  function generateLoaders (loaders) {\n    const sourceLoader = loaders.map(function (loader) {\n      let extraParamChar\n      if (/\\?/.test(loader)) {\n        loader = loader.replace(/\\?/, '-loader?')\n        extraParamChar = '&'\n      } else {\n        loader = loader + '-loader'\n        extraParamChar = '?'\n      }\n      return loader + (options.sourceMap ? extraParamChar + 'sourceMap' : '')\n    }).join('!')\n\n    if (options.extract) {\n      return ExtractTextPlugin.extract('vue-style-loader', sourceLoader)\n    } else {\n      return ['vue-style-loader', sourceLoader].join('!')\n    }\n  }\n\n  // http://vuejs.github.io/vue-loader/configurations/extract-css.html\n  return {\n    css: generateLoaders(['css']),\n    postcss: generateLoaders(['css']),\n    less: generateLoaders(['css', 'less']),\n    sass: generateLoaders(['css', 'sass?indentedSyntax']),\n    scss: generateLoaders(['css', 'sass']),\n    stylus: generateLoaders(['css', 'stylus']),\n    styl: generateLoaders(['css', 'stylus'])\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./build/utils.js\n **/","module.exports = require(\"extract-text-webpack-plugin\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"extract-text-webpack-plugin\"\n ** module id = 25\n ** module chunks = 0\n **/","module.exports = require(\"eslint-friendly-formatter\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"eslint-friendly-formatter\"\n ** module id = 26\n ** module chunks = 0\n **/","module.exports = require(\"webpack-dev-middleware\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"webpack-dev-middleware\"\n ** module id = 27\n ** module chunks = 0\n **/","module.exports = require(\"webpack-hot-middleware\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"webpack-hot-middleware\"\n ** module id = 28\n ** module chunks = 0\n **/"],"sourceRoot":""}